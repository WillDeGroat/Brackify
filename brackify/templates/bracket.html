<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brackify</title>
  <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename = 'favicon.svg') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename = 'style.css') }}">
</head>
  <body data-bracket-id="{{ bracket_id }}">
  <header>
    <a class="logo" aria-label="Brackify" href="{{ url_for('index') }}">Brackify</a>
    <p>Create interactive brackets from your Spotify playlists</p>
  </header>

  <main>
    <section id="bracket" class="bracket" aria-live="polite"></section>
    <div class="bracket-toolbar">
      <button id="reset-bracket" type="button" class="ghost">Reset</button>
      <a class="button-link" href="{{ url_for('index') }}">New</a>
    </div>
  </main>

  <footer>
    <p class="footer-content">Created by Will (<a href="https://x.com/wnfyu" target="_blank" rel="noreferrer">@wnfyu</a>)</p>
  </footer>

  <div id="share-modal" class="share-modal hidden" role="dialog" aria-modal="true" aria-labelledby="share-title">
    <div class="share-card">
      <div class="share-header">
        <div class="share-cover-frame">
          <img id="share-cover" alt="Winning album cover">
        </div>
        <div class="share-meta">
          <p class="eyebrow" id="share-title">Bracket complete</p>
          <h2 id="share-winner"></h2>
          <p class="muted" id="share-album"></p>
          <p class="muted" id="share-artist"></p>
        </div>
      </div>
      <div class="share-actions">
        <textarea id="share-url" aria-label="Shareable bracket link" rows="3" readonly>{{ url_for('view_bracket', bracket_id = bracket_id, _external = True) }}</textarea>
        <button id="copy-share" type="button">Copy</button>
      </div>
      <div class="modal-actions">
        <button id="close-share" type="button" class="ghost">Close</button>
      </div>
    </div>
  </div>

  <script src="{{ url_for('static', filename = 'app.js') }}" defer></script>
</body>
</html>
